% graphvizzz.sty
% Ives van der Flaas 2010
% ives.vdf@gmail.com
% http://code.google.com/p/graphvizzz/
%
% Based on graphviz.sty by Mark Aufflick 2006-03-25
% Based on graphviz.tex by Derek Rayside 2003

% add the following lines to your preamble:

% \usepackage[pdftex]{graphicx}
% \usepackage{graphvizzz}

% parameters to \digraph:
% 1 - parameters for \includegraphics (optional; default value is "scale=1")
% 2 - name of the digraph
% 3 - body of the digraph

\ProvidesPackage{graphvizzz}


\newcommand{\digraph}[3][scale=1]{ 
  \newwrite\dotfile 
  \immediate\openout\dotfile=#2.dot 
  \immediate\write\dotfile{digraph #2 {\string#3}} 
  \immediate\closeout\dotfile
  \immediate\write18{dot -Tpdf #2.dot > #2.pdf}
  \IfFileExists{#2.pdf}
  % the pdf exists: include it 
  { \includegraphics[#1]{#2} } 
  % the pdf was not created - show a hint
  {   
      The PDF file displaying your dot graph could not be created. 
      This usually means one of
      two things:
        \begin{itemize}
        \item dot is not in your path
        \item write18 is not enabled
        \end{itemize}
        Please check http://code.google.com/p/graphvizzz/ for more
        information. 
      
  } 
}

\newcommand{\graph}[3][scale=1]{ 
  \newwrite\dotfile 
  \immediate\openout\dotfile=#2.dot 
  \immediate\write\dotfile{graph #2 {\string#3}} 
  \immediate\closeout\dotfile
  \immediate\write18{dot -Tpdf #2.dot > #2.pdf}
  \IfFileExists{#2.pdf}
  % the pdf exists: include it 
  { \includegraphics[#1]{#2} } 
  % the pdf was not created - show a hint
  {   
      The PDF file displaying your dot graph could not be created. 
      This usually means one of
      two things:
        \begin{itemize}
        \item dot is not in your path
        \item write18 is not enabled
        \end{itemize}
        Please check http://code.google.com/p/graphvizzz/ for more
        information. 
      
  } 
}
